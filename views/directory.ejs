 <%# views/directory.ejs (Updated with Search Form) %>

<div class="page-header">
    <h2 class="page-title"><%= pageTitle %></h2>
    
    <!-- Search Form -->
    <form action="/directory" method="GET" class="search-form" style="max-width: 300px;">
        <input 
            type="text" 
            name="search" 
            id="directory-search" 
            placeholder="Search by name..." 
            class="form-input"
            value="<%= locals.searchTerm || '' %>"
        >
        <%# Aap yahan ek search button bhi laga sakte hain, lekin Enter dabane se bhi form submit ho jayega %>
    </form>
</div>

<div class="directory-grid">
    <% if (students && students.length > 0) { %>
        <% students.forEach(student => { %>
            <div class="student-card">
                <img src="<%= student.photo %>" alt="<%= student.name %>" onerror="this.onerror=null;this.src='https://placehold.co/96x96/eee/ccc?text=Error';">
                <h3><%= student.name %></h3>
                <p>Semester <%= student.semester %></p>
            </div>
        <% }) %>
    <% } else { %>
        <p>No students found matching your search.</p>
    <% } %>
</div>
