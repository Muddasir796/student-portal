<%# views/admin/notes.ejs %>

<div class="page-header" style="display: flex; justify-content: space-between; align-items: center;">
    <h2 class="page-title"><%= pageTitle %></h2>
    <a href="/admin/notes/add-subject" class="btn btn-primary">Add New Subject</a>
</div>

<div class="card" style="overflow-x: auto;">
    <table class="table" style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr>
                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid var(--border-color);">Subject Name</th>
                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid var(--border-color);">Notes Count</th>
                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid var(--border-color);">Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (subjects && subjects.length > 0) { %>
                <% subjects.forEach(subject => { %>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;"><%= lang === 'ur' ? subject.subject.ur : subject.subject.en %></td>
                        <td style="padding: 0.75rem;"><%= subject.notes.length %></td>
                        <td style="padding: 0.75rem;">
                            <a href="/admin/notes/edit/<%= subject.slug %>" class="btn" style="background-color: #e5e7eb; font-size: 0.875rem; padding: 0.25rem 0.5rem;">Edit</a>
                            <a href="/admin/notes/delete/<%= subject._id %>" class="btn btn-primary" style="background-color: #ef4444; font-size: 0.875rem; padding: 0.25rem 0.5rem;" onclick="return confirm('Are you sure you want to delete this subject and all its notes?');">Delete</a>
                        </td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td colspan="3" style="padding: 1rem; text-align: center;">No subjects found. Add one to get started!</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>
